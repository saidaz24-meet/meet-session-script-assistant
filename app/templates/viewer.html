{% extends "base.html" %}
{% block content %}
<link rel="stylesheet"
      href="{{ url_for('static', filename='css/viewer.css') }}">

<div class="viewer-grid">
  <!-- Slides (right) ---------------------------------------------->
  <section class="slide-pane">
    <div id="slidePreview" class="slide-box"></div>

    <div class="nav">
      <button id="prevBtn" class="btn ghost">← Prev</button>
      <span   id="slideCounter"></span>
      <button id="nextBtn" class="btn">Next →</button>
      <button id="emailBtn" class="btn ghost">✉ Send</button>
    </div>
  </section>

  <!-- Script cards (left) ----------------------------------------->
  <section id="windows" class="windows"></section>
</div>

{# ─────────────  JSON-blob with ALL data  ───────────── #}
<script id="viewer-data" type="application/json">
  {{ {
       "images": images,
       "script": output,
       "modes" : config.requested_modes
     } | tojson | safe }}
</script>

<script src="{{ url_for('static', filename='js/viewer.js') }}"></script>
{% endblock %}
